<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Princess Bride Chat</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./assets/style.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">

  <meta name="description" content="This is a free, online chatting website where the only things you can say to each other are Princess Bride quotes. The world genuinely needed this." />
  <meta property="og:title" content="Princess Bride Chat">
  <meta property="og:site_name" content="Princess Bride Chat">
  <meta property="og:url" content="https://eliaselliotson.github.io/princessbridechat/">
  <meta property="og:description" content="This is a free, online chatting website where the only things you can say to each other are Princess Bride quotes. The world genuinely needed this.">
  <meta property="og:type" content="website">
</head>

<body>

  <aside class="bg-body-secondary border-end desktop-only justify-content-between">
    <div>
      <h2>Rooms</h2>

      <div class="input-group">
        <span class="input-group-text bg-body-tertiary" id="basic-addon1"><i class="bi bi-search"></i></span>
        <input class="form-control bg-body-tertiary" id="chatName" placeholder="Search rooms..." />
      </div>

      <div id="rooms">
        <button id="joinBtn" class="btn btn-light text-center d-none"><i class="bi bi-plus-lg"></i> Create room</button>
      </div>
      
    </div>
    <div>
      <p class="text-start fst-light lh-sm small text-muted">
        Made with ❤️ by <a class="text-muted" href="https://github.com/eliaselliotson">Elias Elliotson</a>
        and <a class="text-muted" href="https://github.com/kokorocks">kokorocks</a>
        on <a class="text-muted" href="https://github.com/eliaselliotson/princessbridechat/">GitHub</a>.
      </p>
    </div>
  </aside>

  <main>
    <header class="bg-body border-bottom shadow-sm sticky-top">
      <div class="d-flex flex-row justify-content-between">
        <h2 id="room-title" class="mb-0">Connecting...</h2>
        <div>
          <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#share-modal"><i class="bi bi-link"></i></button>
          <button id="notifications-toggle" type="button" class="btn btn-primary"></button>
          <button id="theme-toggle" type="button" class="btn btn-primary"></button>
          <button id="login-opener" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#login-modal">Register</button>
          <button id="menu-opener" type="button" class="btn btn-primary mobile-only"><i class="bi bi-list"></i></button>
        </div>
      </div>
    </header>

    <div>
      <div id="messages"></div>

      <div id="input" style="display:none;" class="sticky-bottom bg-body border-top shadow">
        <input id="msgInput" type="text" placeholder="Type something..." class="form-control" />
        <button id="sendBtn" class="btn btn-primary"><i class="bi bi-send-fill"></i></button>
      </div>
    </div>

    <!-- Login/Register modal -->
    <div class="modal fade" id="login-modal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">Log In or Sign Up</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <input id="username" placeholder="Username" class="form-control mb-2" />
            <input id="password" type="password" placeholder="Password" class="form-control mb-2" />
            <div class="mb-3 d-flex flex-row justify-content-center gap-2">
              <button id="signupBtn" class="btn btn-primary">Sign Up</button>
              <button id="loginBtn" class="btn btn-primary">Login</button>
            </div>
            <p class="text-start fst-italic fst-light lh-sm small text-muted mb-1">
              This app is completely free, and no email or personal information is required.
              We do not guarantee ongoing maintenance or support for the app, and we are not
              responsible for any misconduct by the app's users. Use at your own risk.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Share modal -->
    <div class="modal fade" id="share-modal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">Invite a Friend</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>Chatting is always more fun with friends! Send this link to someone you know so they can chat too.</p>
            <div style="margin-top:8px; display:flex; gap:8px; align-items:center;">
              <input id="shareUrl" readonly style="flex:1; padding:8px;" class="form-control" />
              <button id="copyBtn" class="btn btn-primary"><i class="bi bi-copy"></i></button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Welcome modal -->
    <div class="modal fade" id="welcome-modal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">Welcome</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>
              Welcome to the <i>Princess Bride</i> chat! This site has everything: fencing,
              fighting, torture, revenge, giants, monsters, chases, escapes, true love, and
              miracles. It's only that good because you can only speak in quotes from the
              movie. The world desperately needed this… anyone who says differently is
              selling something.
            </p>
            <p>
              The app is completely free, no email required, no ads, no hidden fees, and no
              secret plot to overthrow Florin. And yes, it's
              <a href="https://github.com/eliaselliotson/princessbridechat" target="_blank">
                open source on GitHub
              </a>,
              in case you wish to peek behind the curtain, tinker with <b>the machine</b>,
              or just marvel at our cunning plan.
            </p>
            <p>
              The creators make no representations or warranties regarding this app and are
              not responsible for any mischief, misunderstandings, or bugs caused by its
              users. Only movie quotes are allowed; everything else is entirely between you
              and whoever answers. And if someone says "As you wish," yes — it means they 
              love you.
            </p>
            <p>Have fun storming the castle. We think it'll work.</p>
            <div class="d-flex flex-row justify-content-center">
              <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Continue</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gun/sea.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
  <script src="./script.js"></script>

</body>

</html>
